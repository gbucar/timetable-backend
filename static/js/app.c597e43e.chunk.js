(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{157:function(t,e,n){"use strict";n.d(e,"a",(function(){return et}));var a=n(24),r=n.n(a),i=n(8),o=n.n(i),s=n(10),u=n.n(s),c=n(22),l=n.n(c),h=n(11),p=n.n(h),f=n(12),d=n.n(f),m=n(7),g=n.n(m),v=n(13),y=n.n(v),x=n(80),b=n(0),w=n.n(b),k=n(1),R=n(3),C=n(159),P=n(6),E=n(29),V=n(156);function N(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var S=function(t){p()(n,t);var e=N(n);function n(t){var a;return o()(this,n),(a=e.call(this,t)).state={rotateValue:new P.a.Value(0),left:!0,sizeValue:new P.a.Value(0),topValue:new P.a.Value(0)},a.handlePress=a.handlePress.bind(l()(a)),a.rotateRight=a.rotateRight.bind(l()(a)),a.rotateLeft=a.rotateLeft.bind(l()(a)),a.disappearAnim=a.disappearAnim.bind(l()(a)),a.animate=a.animate.bind(l()(a)),a}return u()(n,[{key:"componentDidMount",value:function(){P.a.timing(this.state.sizeValue,{toValue:1,duration:500,useNativeDriver:!1,easing:E.a.back()}).start(),this.setState({size:this.state.sizeValue.interpolate({inputRange:[0,1],outputRange:["0px","53px"]})})}},{key:"componentWillUnmount",value:function(){P.a.timing(this.state.sizeValue,{toValue:0,duration:500,useNativeDriver:!1,easing:E.a.back()}).start(),this.setState({size:this.state.sizeValue.interpolate({inputRange:[0,1],outputRange:["0px","53px"]})})}},{key:"rotateLeft",value:function(){P.a.timing(this.state.rotateValue,{toValue:1,duration:500,useNativeDriver:!1,easing:E.a.back()}).start(),this.setState({left:!1})}},{key:"rotateRight",value:function(){P.a.timing(this.state.rotateValue,{toValue:0,duration:500,useNativeDriver:!1,easing:E.a.back()}).start(),this.setState({left:!0})}},{key:"resetDirection",value:function(){this.state.left&&this.rotateRight()}},{key:"animate",value:function(){var t=this;this.disappearAnim(),setTimeout((function(){t.props.loading&&t.animate()}),2e3)}},{key:"handlePress",value:function(){return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animate(),t.next=3,y.a.awrap(this.props.onPress());case 3:if(t.sent){t.next=9;break}return this.disappearAnim(),t.abrupt("return");case 9:this.disappearAnim(),this.state.left?this.rotateLeft():this.rotateRight(),this.setState({rotation:this.state.rotateValue.interpolate({inputRange:[0,1],outputRange:["0deg","-180deg"]})});case 12:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"disappearAnim",value:function(){var t=this;P.a.timing(this.state.topValue,{toValue:0,duration:500,useNativeDriver:!1,easing:E.a.back()}).start(),new Promise((function(){setTimeout((function(){P.a.timing(t.state.topValue,{toValue:1,duration:500,useNativeDriver:!1,easing:E.a.back()}).start()}),500)})),this.setState({size:this.state.topValue.interpolate({inputRange:[0,1],outputRange:["0px","53px"]})})}},{key:"render",value:function(){return w.a.createElement(P.a.View,{style:[z.navigationArrow,{transform:[{rotate:this.state.rotation}],width:this.state.size,height:this.state.size}],onPress:this.props.onPress},w.a.createElement(V.a,{style:z.navigationArrowIcon,onPress:this.handlePress,color:"#909090",name:"arrow-right",type:"font-awesome-5"}))}}]),n}(b.Component),z=k.a.create({navigationArrow:{color:"#fff",width:"53px",height:"53px",borderRadius:"53px",justifyContent:"center",alignItems:"center",backgroundColor:"#EFEFEF",transform:[{rotate:"100deg"}],overflow:"hidden"},navigationArrowIcon:{}}),A=n(2),T=n.n(A),D=n(61);function F(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var j=function(t){p()(n,t);var e=F(n);function n(t){var a;return o()(this,n),(a=e.call(this,t)).state={widthValue:new P.a.Value(0),width:"",height:""},a.componentWillUnmount=a.componentWillUnmount.bind(l()(a)),a.componentDidMount=a.componentDidMount.bind(l()(a)),a}return u()(n,[{key:"componentDidMount",value:function(){P.a.timing(this.state.widthValue,{toValue:1,duration:500,useNativeDriver:!1,easing:E.a.back()}).start(),this.setState({width:this.state.widthValue.interpolate({inputRange:[0,1],outputRange:["0%",this.props.width||"90%"]}),height:this.state.widthValue.interpolate({inputRange:[0,1],outputRange:["0px",this.props.height&&this.props.height.endsWith("px")?this.props.height:"53px"]})})}},{key:"componentWillUnmount",value:function(){P.a.timing(this.state.widthValue,{toValue:0,duration:500,useNativeDriver:!1,easing:E.a.back()}).start(),this.setState({width:this.state.widthValue.interpolate({inputRange:[0,1],outputRange:["0%",this.props.width||"90%"]}),height:this.state.widthValue.interpolate({inputRange:[0,1],outputRange:["0px",this.props.height&&this.props.height.endsWith("px")?this.props.height:"53px"]})})}},{key:"handlePress",value:function(){this.props.onPress()}},{key:"render",value:function(){return w.a.createElement(P.a.View,{onPress:this.props.onPress,onRelease:!0,style:[O.box,{width:this.props.overrideWidth?this.props.overrideWidth:this.state.width,overflow:this.props.overflow?this.props.overflow:"hidden",paddingRight:this.props.paddingRight,justifyContent:this.props.justifyContent?this.props.justifyContent:"center",padding:this.props.padding,height:this.props.height?this.props.height:this.state.height,margin:this.props.margin,borderRasius:this.props.borderRadius?this.props.borderRadius:"25px",backgroundColor:this.props.backgroundColor?this.props.backgroundColor:"#EFEFEF",minWidth:this.props.minWidth,marginRight:this.props.marginRight}]},this.props.children)}}]),n}(b.Component),O=k.a.create({box:{borderRadius:"25px",height:"53px",backgroundColor:"#EFEFEF",justifyContent:"space-around",overflow:"hidden",alignItems:"center",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",flexDirection:"row"}});function I(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var L=function(t){p()(n,t);var e=I(n);function n(t){var a;return o()(this,n),(a=e.call(this,t)).state={borderColor:"#909090"},a.onFocus=a.onFocus.bind(l()(a)),a}return u()(n,[{key:"onFocus",value:function(){this.setState({borderColor:"#909090"})}},{key:"render",value:function(){return w.a.createElement(j,null,w.a.createElement(D.a,T()({value:this.props.value,onChangeText:this.props.onChangeText,onFocus:this.onFocus},this.props,{style:[B.text,{borderColor:this.state.borderColor}]})))}}]),n}(b.Component),B=new k.a.create({text:{color:"#909090",borderColor:"#909090",height:"53px",width:"110vw",borderRadius:"53px",textAlign:"center",fontSize:"150%",textTransform:"capitalize"}});function W(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var M=function(t){p()(n,t);var e=W(n);function n(t){var a;return o()(this,n),(a=e.call(this,t)).state={text:a.props.textOne,opacityValue:new P.a.Value(0),opacity:1},a.switchText=a.switchText.bind(l()(a)),a.handlePress=a.handlePress.bind(l()(a)),a}return u()(n,[{key:"componentDidMount",value:function(){this.fadeText()}},{key:"fadeText",value:function(){P.a.sequence([P.a.timing(this.state.opacityValue,{toValue:0,duration:100,useNativeDriver:!1}),P.a.timing(this.state.opacityValue,{toValue:1,duration:100,useNativeDriver:!1})]).start(),this.setState({opacity:this.state.opacityValue.interpolate({inputRange:[0,1],outputRange:[0,1]})})}},{key:"switchText",value:function(){var t=this.props.textOne==this.state.text?this.props.textTwo:this.props.textOne;this.setState({text:t})}},{key:"handlePress",value:function(){var t=this;this.props.onPress(),this.fadeText(),new Promise((function(){return setTimeout(t.switchText,100)}))}},{key:"render",value:function(){return w.a.createElement(j,null,w.a.createElement(P.a.Text,{style:[U.text,{opacity:this.state.opacity}],onPress:this.handlePress},this.state.text))}}]),n}(b.Component),U=k.a.create({text:{color:"#909090",fontSize:"150%"}}),J=n(16),_=n(154),K=n(27),q=n(20);function G(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var H=function(t){p()(n,t);var e=G(n);function n(t){return o()(this,n),e.call(this,t)}return u()(n,[{key:"render",value:function(){return w.a.createElement(j,this.props,w.a.createElement(J.a,{onPress:this.props.onPress,style:[Q.text,{fontSize:this.props.fontSize?this.props.fontSize:"150%",color:this.props.color?this.props.color:"#909090"}]},this.props.text),this.props.children)}}]),n}(b.Component),Q=new k.a.create({text:{color:"#909090",borderColor:"#909090",textAlign:"center",fontSize:"150%",textTransform:"capitalize",marginVertical:"auto",padding:3}});function X(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var Y=function(t){p()(a,t);var e=X(a);function a(t){var n;return o()(this,a),(n=e.call(this,t)).openTimetable=n.openTimetable.bind(l()(n)),n.state={timetable:[],fullName:"NAPAKA :/"},n.getColor=n.getColor.bind(l()(n)),n}return u()(a,[{key:"formateTimetableLink",value:function(){var t=new Date;return t=t.getMonth()+1,(t=String(t)).length&&(t="0"+t),"https://gz.zelimlje.si/wp-content/uploads/sites/2/2021/"+t+"/Urnik_teden.pdf"}},{key:"componentDidMount",value:function(){var t,e,n,a,r=this;return y.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=this.props.user[0],e=this.props.user[1],n=this.props.online,a=this.props.className,"/personalized",i.next=7,y.a.awrap(fetch(this.props.formateApiLink("/personalized",t,e,n,a)).then((function(t){return t.json()})).then((function(t){console.log(t),r.setState({timetable:t.timetable,gender:t.gender,fullName:t.fullName})})));case 7:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"openTimetable",value:function(){_.a.openURL("https://docs.google.com/gview?url="+this.formateTimetableLink())}},{key:"getColor",value:function(t){return this.state.gender?{m:["#008CAB","#ffffff"],f:["#FFA7A7","#ffffff"],r:["#E2FF90"]}[this.state.gender][t]:""}},{key:"render",value:function(){var t=this,e=["P","T","S","\u010c","P"];return w.a.createElement(R.a,{style:[Z.container,this.state.timetable.length?{}:{display:"none"}]},w.a.createElement(H,{backgroundColor:this.getColor(0),color:this.getColor(1),text:this.state.fullName,style:Z.title},w.a.createElement(q.a,{onPress:this.openTimetable},w.a.createElement(K.a,{style:Z.imageLink,source:n("r"==this.state.gender?218:219)}))),w.a.createElement(R.a,{style:Z.timetableContainer},this.state.timetable.map((function(n,a){var r=(new Date).getDay()-1;return w.a.createElement(j,{justifyContent:"center",width:"95%",key:a,style:[Z.dayContainer]},w.a.createElement(J.a,{style:[Z.text,{fontWeight:r==a?"bold":""}]},e[a]),w.a.createElement(j,{padding:"5px",borderRadius:"5px",overflow:"scroll",backgroundColor:r==a?"#cbcbcb":"#EFEFEF",justifyContent:"safe center",maxWidth:"95%",minWidth:"90%"},w.a.createElement(R.a,{style:Z.subjectsContainer},n.map((function(e){return e=e&&"---"!=e?e:";)",w.a.createElement(H,{backgroundColor:a>=r||r<6?t.getColor(0):"#cbcbcb",margin:"3px",overrideWidth:"auto",padding:5,fontSize:"100%",key:Math.random(),text:e,height:"auto",color:t.getColor(1)})})))))}))))}}]),a}(b.Component),Z=k.a.create({title:{},dayContainer:{},container:{width:"100%",height:"60%",alignItems:"center"},timetableContainer:{width:"100%",height:"60vh",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},text:{color:"#909090",textAlign:"center",fontSize:"150%",margin:"auto"},imageLink:{width:"40px",height:"40px",margin:"10px"},subjectsContainer:{minWidth:"100%",justifyContent:"space-around",alignItems:"center",flexDirection:"row"}}),$=(n(220),n(221),n(222),n(85));function tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var et=function(t){p()(n,t);var e=tt(n);function n(t){var a;return o()(this,n),(a=e.call(this,t)).state={logged:!1,name:"",secondName:"",online:!0},a.handleNavigationArrowPress=a.handleNavigationArrowPress.bind(l()(a)),a.handlePress=a.handlePress.bind(l()(a)),a}return u()(n,[{key:"getClasses",value:function(t,e){var n;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n=[],a.next=3,y.a.awrap(fetch(this.formateApiLink("/class",t,e)).then((function(t){return t.json()})).then((function(t){return n=t})));case 3:return a.abrupt("return",n);case 4:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"componentDidMount",value:function(){var t,e,n,a,i;return y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=JSON,o.next=3,y.a.awrap($.a.getItem("credentials"));case 3:o.t1=o.sent,t=o.t0.parse.call(o.t0,o.t1),e=t||["",""],n=r()(e,2),a=n[0],i=n[1],this.setState({name:a,secondName:i});case 7:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"saveCredentials",value:function(t){var e;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=JSON.stringify(t),n.next=3,y.a.awrap($.a.setItem("credentials",e));case 3:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"handleNavigationArrowPress",value:function(){var t,e,n;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.state.logged){a.next=5;break}return this.setState({logged:!1,online:!0}),a.abrupt("return",!0);case 5:return t=this.state.name.trim().toLowerCase(),e=this.state.secondName.trim().toLowerCase(),a.next=9,y.a.awrap(this.getClasses(t,e));case 9:if((n=a.sent).length>1&&alert("Izgleda, da se tvoje ime pojavi v ve\u010d oddelkih ("+n.join(", ")+"). Prikazan bo urnik "+n[0]+". Opravi\u010dujem se za to napako in delam na tem, da jo odpravim. Do takrat lahko uporablja\u0161 ime kak\u0161nega so\u0161olca \ud83d\ude42\ud83d\ude15"),t&&e&&n[0]){a.next=13;break}return a.abrupt("return");case 13:return n[0]&&(this.saveCredentials([t,e]),this.setState({logged:!0,loading:!0}),this.setState({loading:!1,cls:n})),a.abrupt("return",!0);case 15:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"handlePress",value:function(){this.setState({online:!this.state.online})}},{key:"formateApiLink",value:function(t,e,n,a,r){return"https://timetable-gz.herokuapp.com"+t+"?first_name="+e+"&second_name="+n+"&online="+(a?"1":"0")+"&class_name="+r}},{key:"render",value:function(){var t=this;return w.a.createElement(C.a,null,w.a.createElement(R.a,{style:nt.container},w.a.createElement(x.a,{hidden:!0}),this.state.logged?this.state.loading?"":w.a.createElement(Y,{user:[this.state.name,this.state.secondName,this.state.cls],online:this.state.online,className:this.state.className,formateApiLink:this.formateApiLink}):w.a.createElement(R.a,{style:[nt.inputFormContainer,{visibility:this.state.logged?"hidden":""}]},w.a.createElement(L,{value:this.state.name,onChangeText:function(e){return t.setState({name:e})},placeholder:"IME"}),w.a.createElement(L,{value:this.state.secondName,onChangeText:function(e){return t.setState({secondName:e})},placeholder:"PRIIMEK"}),w.a.createElement(M,{onPress:this.handlePress,textOne:"ONLINE URNIK",textTwo:"OSNOVEN URNIK"})),w.a.createElement(S,{loading:this.state.loading,onPress:this.handleNavigationArrowPress})))}}]),n}(b.Component),nt=k.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"space-around"},inputFormContainer:{width:"100%",height:"40%",alignItems:"center",justifyContent:"space-around"}})},161:function(t,e,n){t.exports=n(224)},218:function(t,e,n){t.exports=n.p+"static/media/link_gray.27d2191b.png"},219:function(t,e,n){t.exports=n.p+"static/media/link.a0e509c9.png"},220:function(t){t.exports=JSON.parse("{}")},221:function(t){t.exports=JSON.parse("{}")},222:function(t){t.exports=JSON.parse("{}")}},[[161,1,2]]]);
//# sourceMappingURL=app.c597e43e.chunk.js.map